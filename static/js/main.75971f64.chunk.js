(this.webpackJsonpbankview=this.webpackJsonpbankview||[]).push([[0],{1:function(e,a,t){e.exports={clientCardAlign:"BankHome_clientCardAlign__2mCdX",ResourceCard:"BankHome_ResourceCard__1KVHk",cardTextSmall:"BankHome_cardTextSmall__JlFIZ",cardTextMedium:"BankHome_cardTextMedium__2Wl5Z",ModalPage:"BankHome_ModalPage__9JsLG",ModalForm:"BankHome_ModalForm__RpMvp",add:"BankHome_add__2LAGT",alignButton:"BankHome_alignButton__1jjM0",ArrowDisable:"BankHome_ArrowDisable__2LO4F"}},43:function(e,a,t){e.exports=t.p+"static/media/left.f697887c.svg"},44:function(e,a,t){e.exports=t.p+"static/media/right.01769d75.svg"},48:function(e,a,t){e.exports=t(83)},53:function(e,a,t){},54:function(e,a,t){e.exports=t.p+"static/media/logo.8dad8028.svg"},82:function(e,a,t){},83:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(16),c=t.n(s),i=(t(53),t(54),t(14)),o=t(17),l=t(18),u=t(22),m=t(20),h=t(19),d=t(23),g=t(11),f=t(6),p=t.n(f),v="INIT_BANK_DETAILS_STATE",E=t(42),k=t.n(E),b=function(){return function(e){e({type:"GET_BANK_DETAILS_DATA_LOADING"}),URL="https://vast-shore-74260.herokuapp.com/banks?city=MUMBAI",k.a.get(URL).then((function(a){200!==a.status&&201!==a.status||(console.log("SUCCEs",a.data),localStorage.setItem("cacheBankData",JSON.stringify(a.data)),e({type:"GET_BANK_DETAILS_DATA_SUCCESS",BankData:a.data}))})).catch((function(a){var t=a;a.response.data&&a.response.data.errorMessage&&(t=a.response.data.errorMessage),e({type:"GET_BANK_DETAILS_DATA_ERROR",error:t})}))}},S=function(){var e=JSON.parse(localStorage.getItem("cacheBankData"));return function(a){a({type:"CACHE_SUCCESS",BankData:e})}},D=t(10),B=t.n(D),_=t(1),A=t.n(_),N=t(21),C=t(43),P=t.n(C),y=t(44),T=t.n(y),w=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(u.a)(this,Object(m.a)(a).call(this,e))).state={displayBank:[],rowsPerPage:10,pageNum:1,totalPage:1,searchEnable:!1,searchArray:[],totalSearchPage:1,filter:"ifsc",searchString:""},t.timeout=null,t.display=function(){var e;e=t.state.searchEnable?p.a.cloneDeep(t.state.searchArray):p.a.cloneDeep(t.props.bankData);var a=(t.state.pageNum-1)*t.state.rowsPerPage,n=e.length;e=e.slice(a,a+t.state.rowsPerPage-1<n?a+t.state.rowsPerPage%n:a+t.state.rowsPerPage),t.setState({displayBank:e})},t.displaySearch=function(){var e=t.state.searchArray.length,a=[],n=(t.state.pageNum-1)*t.state.rowsPerPage;a=a.slice(n,n+t.state.rowsPerPage-1<e?n+t.state.rowsPerPage%e:n+t.state.rowsPerPage),t.setState({displayBank:a})},t.NumberofRowsPerPageChange=function(){var e=t.props.bankData.length,a=t.state.searchArray.length,n=t.state.rowsPerPage,r=1;t.state.searchEnable&&(r=parseInt(a/n),n%a!=0&&(r+=1));var s=parseInt(e/n);n%e!=0&&(s+=1),t.setState({totalPage:s,totalSearchPage:r})},t.handlePrevDisableCheck=function(e){var a=!1;return"left"===e&&1===t.state.pageNum?a=!0:t.state.searchEnable||"right"!==e||t.state.pageNum!==t.state.totalPage?t.state.searchEnable&&"right"===e&&t.state.pageNum===t.state.totalSearchPage&&(a=!0):a=!0,a},t.pageChange=function(e){var a=t.state.pageNum;"right"===e?a+=1:"left"===e&&(a-=1),t.setState({pageNum:a})},t.checkContains=function(e,a,n){if("favourite"!==t.state.filter){var r=e[t.state.filter];return r=r.toString(),a=a.toString(),r=r.slice(0,n),!!p.a.isEqual(r,a)}if("favourite"in e){var s=e[t.state.filter];return s=s.toString(),a=a.toString(),s=s.slice(0,n),!!p.a.isEqual(s,a)}},t.searchBankOnQuery=function(e,a){if(0!==a){var n=Object(h.a)(t);document.getElementById("searchBank").addEventListener("keyup",(function(t){clearTimeout(n.timeout),n.timeout=setTimeout((function(){var t=[],r=t=p.a.cloneDeep(n.props.bankData).filter((function(t){return n.checkContains(t,e,a)}));t.length>n.state.rowsPerPage&&(t=t.slice(0,n.state.rowsPerPage)),n.setState({displayBank:t,searchEnable:!0,searchArray:r,pageNum:1,searchString:e})}),1e3)}))}},t.changeSearch=function(e){var a=e.target.value,n=(a=a.toString()).length;0===n?(clearTimeout(t.timeout),t.setState({searchArray:[],searchEnable:!1,pageNum:1,searchString:a})):t.searchBankOnQuery(a,n)},t.changeFilter=function(e){var a=e.target.value;document.getElementById("searchBank").value="",t.setState({filter:a,pageNum:1,searchEnable:!1})},t.favourite=function(e){"favourite"===e.target.value||e.target.value},t.myRef=r.a.createRef(),t}return Object(d.a)(a,e),Object(l.a)(a,[{key:"componentDidMount",value:function(){JSON.parse(localStorage.getItem("cacheBankData"))?this.props.getBanKdataFromCache():this.props.getBankData()}},{key:"componentDidUpdate",value:function(e,a){p.a.isEqual(e.bankData,this.props.bankData)||this.state.searchEnable||(this.display(),this.NumberofRowsPerPageChange()),this.state.rowsPerPage!==a.rowsPerPage&&(this.NumberofRowsPerPageChange(),this.state.searchEnable||this.display()),this.state.pageNum!==a.pageNum&&this.display(),a.searchArray!==this.state.searchArray&&0!=this.state.searchArray.length&&this.NumberofRowsPerPageChange(),a.searchEnable!==this.state.searchEnable&&this.display(),p.a.isEqual(this.state.filter,a.filter)||this.display()}},{key:"componentWillMount",value:function(){}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("input",{type:"text",id:"searchBank",onChange:function(a){return e.changeSearch(a)},placeholder:"Search.."}),r.a.createElement("label",{className:B()("ml-2")},"Choose a filter:"),r.a.createElement("select",{onChange:function(a){return e.changeFilter(a)},id:"Filter"},r.a.createElement("option",{value:"ifsc"},"IFSC"),r.a.createElement("option",{value:"bank_id"},"Bank ID"),r.a.createElement("option",{value:"address"},"Address"),r.a.createElement("option",{value:"bank_name"},"Bank Name"),r.a.createElement("option",{value:"branch"},"Branch"),r.a.createElement("option",{value:"favourite"},"favourite"))),r.a.createElement("div",{className:B()("pt-4 ",A.a.main)},r.a.createElement("div",{className:B()("mt-5",A.a.scroll)},this.state.displayBank.length>0?this.state.displayBank.map((function(e,a){var t="/bank/"+a+"/"+e.ifsc;return r.a.createElement(N.b,{to:t},r.a.createElement("div",{className:B()("pl-3",A.a.clientCardAlign),key:a},r.a.createElement("div",{className:A.a.ResourceCard},r.a.createElement("div",{style:{}},r.a.createElement("div",{className:A.a.cardTextMedium},"Bank Name : ",e.bank_name),r.a.createElement("div",{className:A.a.cardTextMedium},"IFSC : ",e.ifsc),r.a.createElement("div",{className:A.a.cardTextMedium},"Branch : ",e.branch),r.a.createElement("div",{className:A.a.cardTextMedium},"Bank ID : ",e.bank_id),r.a.createElement("div",{className:A.a.cardTextMedium},"Address : ",e.address)))))})):null)),r.a.createElement("span",null,r.a.createElement("button",{className:B()(Object(i.a)({},A.a.ArrowDisable,this.handlePrevDisableCheck("left")),A.a.Arrow),disabled:this.handlePrevDisableCheck("left"),onClick:function(){return e.pageChange("left")}},r.a.createElement("img",{src:P.a,alt:"arrow"}))),r.a.createElement("span",null,r.a.createElement("button",{className:B()(Object(i.a)({},A.a.ArrowDisable,this.handlePrevDisableCheck("right")),A.a.Arrow),disabled:this.handlePrevDisableCheck("right"),onClick:function(){return e.pageChange("right")}},r.a.createElement("img",{src:T.a,alt:"arrow"}))))}}]),a}(n.Component),I=Object(g.b)((function(e){return{bankData:e.BankData}}),(function(e){return{getBankData:function(){return e(b())},getBanKdataFromCache:function(){return e(S())}}}))(w),O=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(u.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={ifscParams:null,index:null},t.checkContains=function(e){return!!p.a.isEqual(e.ifsc,t.state.ifscParams)},t.favourite=function(e){var a=JSON.parse(localStorage.getItem("cacheBankData")),n=a[t.state.index];if("favourite"in n){var r=n.favourite;r=!r,n.favourite=r}else n.favourite=!0;a[t.state.index]=n,localStorage.setItem("cacheBankData",JSON.stringify(a)),a=JSON.parse(localStorage.getItem("cacheBankData"))},t}return Object(d.a)(a,e),Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.getBanKdataFromCache();var e=this.props.match,a=e.params.bankID,t=e.params.index;this.setState({ifscParams:a,index:t})}},{key:"render",value:function(){var e=this,a=null;return null!==this.state.ifscParams&&(a=this.props.bankData.filter((function(a){return e.checkContains(a)}))),r.a.createElement("div",null,a?r.a.createElement("div",null,r.a.createElement("div",{className:A.a.cardTextMedium},"Bank Name : ",a[0].bank_name),r.a.createElement("div",{className:A.a.cardTextMedium},"IFSC : ",a[0].ifsc),r.a.createElement("div",{className:A.a.cardTextMedium},"Branch : ",a[0].branch),r.a.createElement("div",{className:A.a.cardTextMedium},"Bank ID : ",a[0].bank_id),r.a.createElement("div",{className:A.a.cardTextMedium},"Address : ",a[0].address),r.a.createElement("input",{onChange:function(a){return e.favourite(a)},type:"checkbox",id:"favourite",name:"favourite",value:"favourite"}),r.a.createElement("label",{for:"favourite"}," favourite")):null)}}]),a}(n.Component),x=Object(g.b)((function(e){return{bankData:e.BankData}}),(function(e){return{getBankData:function(){return e(b())},getBanKdataFromCache:function(){return e(S())}}}))(O),M=t(8);t(82);var R=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(N.a,null,r.a.createElement(M.c,null,r.a.createElement(M.a,{path:"/",exact:!0,component:I}),r.a.createElement(M.a,{path:"/bank/:index/:bankID",exact:!0,component:x})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var j=t(15),L=t(12),F={getDataState:"INIT",BankData:{},error:null,cacheState:"INIT"},K=function(){return F},H=function(e,a){return Object(L.a)({},e,{error:null})},U=function(e){return console.log("Loading"),Object(L.a)({},e,{getDataState:"LOADING"})},G=function(e,a){return console.log("SUCCES",a.BankData),Object(L.a)({},e,{getDataState:"SUCCESS",BankData:a.BankData,error:null})},J=function(e,a){return console.log("Loading"),Object(L.a)({},e,{getDataState:"ERROR",error:a.error})},q=function(e,a){return Object(L.a)({},e,{cacheState:"SUCCESS",BankData:a.BankData})},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case v:return K();case"RESET_BANK_DETAILS_ERROR":return H(e);case"GET_BANK_DETAILS_DATA_LOADING":return U(e);case"GET_BANK_DETAILS_DATA_SUCCESS":return G(e,a);case"GET_BANK_DETAILS_DATA_ERROR":return J(e,a);case"CACHE_SUCCESS":return q(e,a);default:return e}},Q=t(47),Z=Object(j.c)(W,Object(j.a)(Q.a));c.a.render(r.a.createElement(g.a,{store:Z},r.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[48,1,2]]]);
//# sourceMappingURL=main.75971f64.chunk.js.map